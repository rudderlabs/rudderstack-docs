---
title: "Revenue Cat"
description: Step-by-step guide on sending your event data from RudderStack to Revenue Cat.
---

# Revenue Cat

[Revenue Cat](https://www.revenuecat.com/) is an in-app subscription platform that lets you analyze and grow your cross-platform app subscriptions.

RudderStack supports Revenue Cat as a destination to which you can seamlessly send your event data.

## Getting started

Before configuring Revenue Cat as a destination in RudderStack, verify if the source platform is supported by Revenue Cat by referring to the table below:

| **Connection Mode** | **Web** | **Mobile** | **Server** |
| :--- | :--- | :--- | :--- |
| **Device mode** | - | - | - |
| **Cloud mode** | **Supported**  | **Supported** | **Supported** |

<div class="infoBlock">
    
To know more about the difference between cloud mode and device mode in RudderStack, refer to the <a href="https://rudderstack.com/docs/rudderstack-cloud/rudderstack-connection-modes/">RudderStack Connection Modes</a> guide.
</div>

Once you have confirmed that the source platform supports sending events to Revenue Cat, follow these steps:

1. From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Revenue Cat**.
2. Assign a name to the destination and click on **Next**.

### Connection settings

To successfully configure Revenue Cat as a destination, you will need to configure the following settings:

<img src="../../assets/event-stream-destinations/rev-cat-connection-settings.png" alt="Revenue Cat connection settings"/>

- **Public API Key**: Enter your Revenue Cat public API key.

<div class="infoBlock">

For more information on getting your Revenue Cat public API key, refer to the <a href="#faq">FAQ</a> section below.
</div>

- **X-Platform**: Select your app platform from the dropdown.

## Identify 

The [`identify`](https://www.rudderstack.com/docs/rudderstack-api/api-specification/rudderstack-spec/identify/) method lets you identify a user and associate them to their actions. It also lets you record any traits about them like their name, email, etc.

RudderStack uses the `identify` call to create or update new subscribers in Revenue Cat. It maps `userId` to Revenue Cat's `app_user_id` before sending the data via the [`subscribers`](https://docs.revenuecat.com/reference/subscribers) API.

A sample `identify` call is shown below:

```javascript
rudderanalytics.identify("1hKOmRA4GRlm",{
    email: "alex@example.com",
    phone: "+1-202-555-0146",
})
```

### Traits mapping

RudderStack maps the following `identify` traits to the corresponding Revenue Cat attributes:

| RudderStack trait | Revenue Cat attribute | Comments |
| :-------| :--------|  :-----| 
| `userId` (Required) | `app_user_id` | - |
| `name` | `$displayName` |  - |
| `email` | `$email` | - |
| `phone` | `$phoneNumber` | - |
| `apnsTokens` | `$apnsTokens` | - |
| `fcmTokens` | `$fcmTokens` | - |
| `idfa`/ `advertisingId` | `$idfa` | Must be sent only once. |
| `idfv`/ `device.id` | `$idfv` | Must be sent only once. |
| `gpsAdId` | `$gpsAdId` | Must be sent only once. |
| `advertisingId` | `$androidId` | Must be sent only once. |
| `campaign.name` | `$campaign` | Must be sent only once. | 
| `context.ip`, `request_ip` | `$ip` | - |
| `creative` | `$creative` | Must be sent only once. |
| `keyword` | `$keyword` | Must be sent only once. |
| `mediaSource` | `$mediaSource` | Must be sent only once. | 
| `ad` | `$ad` | Must be sent only once. | 
| `addGroup` | `$adGroup` | Must be sent only once. | 
| `adjustId` | `$adjustId` | Must be sent only once. | 
| `appsflyerId` | `$appsflyerId` | - |
| `fbAnonId` | `$fbAnonId` | Must be sent only once. | 
| `iterableUserId` | `$iterableUserId` | - |
| `iterableCampaignId` | `$iterableCampaignId` | Must be sent only once. |
| `iterableTemplateId` | `$iterableTemplateId` | Must be sent only once. | 
| `mixpanelDistinctId` | `$mixpanelDistinctId` | Must be sent only once. | 
| `mparticleId` | `$mparticleId` | - |
| `onesignalId` | `$onesignalId` | - |
| `airshipChannelId` | `$airshipChannelId` | - |
| `amazonAdId` | `$amazonAdId` | Must be sent only once. |
| `clevertapId` | `$clevertapId` | - |

<div class="warningBlock">

Revenue Cat <strong>cannot</strong> modify some attributes. So, you must send them <strong>only once</strong>.
</div>

<div class="warningBlock">

The values for <code class="inline-code">iterableCampaignId</code> and <code class="inline-code">iterableTemplateId</code> must be valid non-negative, non-decimal integers. Otherwise, RudderStack will reject and skip these fields.
</div>

## Track

The [`track`](https://www.rudderstack.com/docs/rudderstack-api/api-specification/rudderstack-spec/track/) method lets you capture user events along with the properties associated with them.

A sample `track` call is shown below:

```javascript
rudderanalytics.track("Order Completed", {
  userId: "1hKOmRA4GRlm",
  currency: "USD",
  fetch_token: "12456",
  products: [{
      product_id: "123454387",
      name: "Game",
      price: 15.99,
      introductory_price: "24",
      is_restore: true,
      presented_offering_identifier: "123",
    }
  ],
});

```

### Event mapping

RudderStack maps the `Order Completed` event to Revenue Cat's `Purchase` event before sending it across via the [`receipts`](https://docs.revenuecat.com/reference/receipts) API. To do so, RudderStack requires the `userId` (mapped to `app_user_id`) and `fetch_token` properties to be present in the event.

### Property mapping

RudderStack maps the following event properties to the corresponding Revenue Cat attributes:

| RudderStack property | Revenue Cat attribute | Comments |
| :-----| :------| :-------|
| `userId` (Required) | `app_user_id` | - |
| `fetch_token` | `fetch_token` | This must be a Base64 encoded **receipt file** for iOS, **receipt token** for Android, **receipt** for Amazon, and **subscription token** in case of Stripe. |
| `currency` | `currency`  | - |
| `payment_mode` | `payment_mode`  | - |
| `product_id`, `products.product_id` | `product_id`  | This is required for Google and should be the Apple, Google, or Amazon SKU or product identifier. |
| `price` | `price`  | - |
| `introductory_price` | `introductory_price`  | - |
| `is_restore` | `is_restore`  | - |
| `presented_offering_identifier` | `presented_offering_identifier`  | - |

## FAQ

### Where can I find the Revenue Cat public API key?

To find the Revenue Cat public API key, follow these steps:

1. Log into your [Revenue Cat dashboard](https://app.revenuecat.com/).
2. From the top navigation bar, go to **Projects** and select your app, as shown:

<img src="../../assets/event-stream-destinations/rev-cat-project.png" alt="Revenue Cat project in the dashboard"/>

3. Under **Project settings**, select **API Keys**. You will find your public API keys under **Public app-specific API keys**, as shown:

<img src="../../assets/event-stream-destinations/rev-cat-public-api-key.png" alt="Revenue Cat public API key"/>

## Contact us

For queries on any of the sections covered in this guide, you can, [contact us](mailto:%20docs@rudderstack.com) or start a conversation in our [Slack](https://rudderstack.com/join-rudderstack-slack-community) community.
