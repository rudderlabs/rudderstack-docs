---
# slug: "/docs/destinations/marketing/blueshift"
title: "Blueshift"
description: Step-by-step guide to send your event data from RudderStack to Blueshift.
---

# Blueshift

[Blueshift](https://blueshift.com/) is a powerful eCommerce platform that lets you boost your business revenue. It supports unique features such as category-based segmentation and various event triggers based on page views, purchases, email engagement, etc. You can easily track and measure all your user activity and the resulting revenue and get a breakdown of this revenue based on different custom attributes.

Blueshift also offers features such as trend reports, cohort analysis, and various options for boosting customer engagement, such as personalized newsletters, product recommendations, in-app push notifications, and more.

RudderStack supports Blueshift as a destination to which you can seamlessly send your event data.

<div class="successBlock">

Find the open-source transformer code for this destination in our <a href="https://github.com/rudderlabs/rudder-transformer/tree/master/v0/destinations/blueshift">GitHub repo</a>.
</div>

## Getting started

Before configuring Blueshift as a destination in RudderStack, verify if the source platform is supported by Blueshift by referring to the table below:

| **Connection Mode** | **Web**       | **Mobile**    | **Server**    |
| :------------------ | :------------ | :------------ | :------------ |
| **Device mode**     | -             |   -           |  -            |
| **Cloud mode**      | **Supported** | **Supported** | **Supported** |

<div class="infoBlock">

To know more about the difference between cloud mode and device mode in RudderStack, refer to the <a href="https://rudderstack.com/docs/connections/rudderstack-connection-modes/">RudderStack Connection Modes</a> guide.
</div>

Once you have confirmed that the source platform supports sending events to Blueshift, follow these steps:

- From your [**RudderStack dashboard**](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Blueshift**.

<div class="infoBlock">

Follow our guide on <a href="https://rudderstack.com/docs/connections/adding-source-and-destination-rudderstack/">Adding a Source and Destination in RudderStack</a> for more information.
</div>

## Connection settings

To successfully configure Blueshift as a destination, you will need to configure the following settings:

<img src="../../assets/event-stream-destinations/klaviyo-connection-settings.png" alt="Blueshift connection settings"/>

- **Event API Key**: Your Event API Key generated against your Blueshift account. It can be found in your Blueshift dashboard in the **Account Settings** section under **API Keys**.

<div class="infoBlock">
  
For more information on obtaining the Event API Key, refer to the <a href="#faq">FAQ</a>.
</div>

- **Users API Key**: Your Users API Key generated for your account in the **Account Settings** section under **API Keys**.
- **Blueshift EU data center**: Enable this option to send data to the EU servers. The base URL for EU region becomes `https://api.eu.getblueshift.com` whereas it stays `https://api.getblueshift.com/` for the rest of the regions.

## Identify

The `identify` call lets you identify a visiting user and associate them to their actions. It also lets you record the traits about them like their name, email address, etc.
Identify can be used to either create or update the customers
It is recommended to limit the calls to this endpoint to 50 per second.

A sample `identify` call is shown below:

```javascript
rudderanalytics.identify("sampleusrRudder8", {
  email: "alex@example.com",
  phone: "+1-202-555-0146",
  firstName: "Alex",
  lastName: "Keener",
});
```

### Supported mappings

The following table details the mapping of the fields specified in the RudderStack dashboard and Google AdWords Enhanced Conversions, along with the relevant guidelines:

| RudderStack field | Blueshift field | Presence |
| :-----| :--------| :------|
| `email` | `email` | Required |
| `userId`  | `customer_id` | Required |
| `event` | `event` | Optional |  
| `phone` | `phone_number` |  Optional |
| `firstName` | `firstname` | Optional |
| `lastName` | `lastname` | Optional |
| `traits.gender`/`context.traits.gender`|`gender`| Optional |


## Track

The `track` call lets you capture user events along with the properties associated with them.


A sample `track` call is shown below:

```javascript
rudderanalytics.track(
  "Product Viewed", {
    cookie: "1234abcd-efghijkj-1234kfjadslk-34iu123",
  }, {
    context: {
      ip: "14.5.67.21",
    },
  }
);
```



<div class="infoBlock">

<ul>
<li>To send <code class="inline-code">track</code> or <code class="inline-code">screen</code> type event using an SDK that does not persist user context information after <code class="inline-code">identify</code>, you need to pass the information in <code class="inline-code">context.traits</code>.</li>

<li>To set a specific value to the <code class="inline-code">screen</code> or <code class="inline-code">track</code> type event, you need to pass the event-related property in the <code class="inline-code">properties</code> field. Also, you can send <code class="inline-code">revenue</code> property in the <code class="inline-code">track</code> event and RudderStack will automatically map it to Klaviyo's special property <code class="inline-code">$value</code>.</li>
</ul>
</div>

### Supported mappings

RudderStack maps the following properties to the Blueshift properties before sending them over Blueshift's HTTP API.

<div class="infoBlock">

RudderStack maps these fields only in the <code class="inline-code">track</code> requests.
</div>

| RudderStack property         | Blueshift property      | 
| :--------------------------- | :---------------------  |
| `Product Viewed`             |  `view`                |         
| `Product Added`               | `add_to_cart`               |             
| `Order Completed`           | `purchase`           |         
| `Products Searched`            | `search`            |          
| `Subscribe Interest`                | `subscribe_interest `                |            
| `Unsubscribe Interest`            | `unsubscribe_interest `            |          
| `Checkout Step Viewed`               | `checkout `               |             
| ` Product Removed`              | `remove_from_cart`              |            
| `Identify`                 | `identify`          |               
| `context.campaign.name`      | `campaign_id`          |    

The following table details the mapping of the fields specified in RudderStack and Blueshift:

| RudderStack field | Blueshift field | Presence |
| :-----| :--------| :-------------|
| `userId`  | `customer_id` | Optional |
| `email` | `email` | Optional |
| `event` | `event` | Required |  
| `context.device.type` | `device_type` | Optional |  
| `context.device.token` | `device_token` | Optional |
| `context.device.id` | `device_id` | Optional |
| `context.idfa`/`context.device.advertisingId` | `device_idfa` | Optional |
| `context.idfv`/`context.device.id` | `device_idfv` | Optional |
| `context.device.manufacturer` | `device_manufacturer` | Optional|
| `context.os.name` | `os_name` | Optional|
| `context.network.carrier` | `network_carrier` | Optional|
| `context.ip`/`request_ip` | `ip` | Optional |
| `context.address.latitude`/`context.location.latitude` | `latitude` | Optional |
| `context.address.longitude`/`context.location.longitude` | `longitude` | Optional|
| `messageId` |  `event_uuid`| Optional|
| `cookie` | `properties.cookie` | Optional|

<div class="infoBlock">
  
Ensure that the event name does not contain periods (.), is not a numeric value, and contains not more than 64 characters. We automatically convert spaces to underscore (_)
</div>

<div class="infoBlock">
Ensure that you specify values in at least one of the following fields:

customer_id, event, device_id, cookie or email. 

If possible, specify values in more than one of these fields. 

Specify at least the value of the cookie property for anonymous users.
</div>
## Group

You can use the `group` call to assign users to a list. An empty user list can be created by using the userList api of Blueshift

A sample `group` call is shown below:

```javascript
rudderanalytics.group("12345", {
  userId: "35428",
  name: "SF1 user list",
  description: "The list of users who are based in San Francisco.",
  email: "alex@example.com",
  isSeedList: true,
  source: "email",
});
```

 userId is the required field for rudderstack, so we mapped identifier_key as “customer_id”  and identifier_value as userId .

## Supported mappings

The following table details the mapping of the fields specified in RudderStack and Blueshift:

| RudderStack field | Blueshift field | Presence |
| :-----| :--------| :-------------|
| `groupId` | `list_id` | Required |
| `userId` | `identifier_key` | Required |
| `userId` | `identifier_value` | Required |
| `name`  | `name` | Optional|
| `traits.description`/`context.traits.description` | `description` | Optional|
| `traits.isSeedList`/`context.traits.isSeedList` | `is_seed_list` | Optional|
| `traits.source`/`context.traits.source` | `source` | Optional|

We check List Id, If it is there, then we add user to list, otherwise we create new empty user list and add user to that list.

## FAQ

### How to obtain the API keys?

To obtain the API keys, log into the Blueshift app, go to **Account Settings** and then to the **API keys** tab. You can obtain the following API keys, based on your role:

- Event API key (EVENT_API_KEY)
- Users API key (USER_API_KEY) (visible only to admin users)

## Contact us

For queries on any of the sections covered in this guide, you can [**contact us**](mailto:%20docs@rudderstack.com) or start a conversation in our [**Slack**](https://rudderstack.com/join-rudderstack-slack-community) community.
