---
# slug: "/docs/destinations/analytics/google-analytics-4-cloud-mode"
title: "Cloud Mode"
description:  Detailed technical documentation on sending events to Google Analytics 4 using the RudderStack Cloud mode.
---

# Cloud Mode

RudderStack lets you send your event data to Google Analytics 4 destination via the cloud mode. It supports both the `gtag` and `firebase` ways for tagging in websites in the cloud mode.

<div class="infoBlock">

For more information on sending events via the cloud mode, refer to the <a href="https://www.rudderstack.com/docs/rudderstack-cloud/rudderstack-connection-modes/#cloud-mode">RudderStack Connection Modes</a> guide.
</div>

<div class="successBlock">

Find the open-source transformer code for this destination in our <a href="https://github.com/rudderlabs/rudder-transformer/tree/master/v0/destinations/ga4">GitHub repo</a>.
</div>

## Track

The [`track`](https://www.rudderstack.com/docs/rudderstack-api/api-specification/rudderstack-spec/track/) call lets you capture user events along with the properties associated with them.

A sample `track` call is as shown:

```javascript
rudderanalytics.track('product list viewed', {
  list_id: "related_products",
  category: "Related_products",
  products: [{
    product_id: "507f1f77bcf86cd799439011",
    name: "Monopoly: 3rd Edition",
    coupon: "SUMMER_FUN",
    category: "Apparel",
    brand: "Google",
    variant: "green",
    price: "19",
    quantity: "2",
    position: "1",
    affiliation: "Google Merchandise Store",
    currency: "USD",
    discount: 2.22,
    item_category2: "Adult",
    item_category3: "Shirts",
    item_category4: "Crew",
    item_category5: "Short sleeve",
    item_list_id: "related_products",
    item_list_name: "Related Products",
    location_id: "L_12345"
  }]
});
```

## E-commerce

RudderStack supports e-commerce tracking for Google Analytics 4. You can use the [RudderStack e-commerce specification](https://rudderstack.com/docs/rudderstack-api/api-specification/rudderstack-ecommerce-events-specification/) for sending events while instrumenting your site with the RudderStack SDK.

The below table lists the mappings of the `track` events and properties that are passed to Google Analytics 4 events and properties:

<table>
  <tr>
    <th colspan="2">Event Mapping</th>
    <th colspan="2">Property Mapping</th>
  </tr>
  <tr>
    <th>RudderStack</th>
    <th>Google Analytics 4</th>
    <th>RudderStack</th>
    <th>Google Analytics 4</th>
  </tr>
  <tr>
    <td>Products Searched</td>
    <td><code class=“inline-code”>search</code></td>
    <td><code class=“inline-code”>query</code></td>
    <td><code class=“inline-code”>search_term</code></td>
  </tr>
  <tr>
    <td>Product List Viewed</td>
    <td><code class=“inline-code”>view_item_list</code></td>
    <td rowspan="2"><code class=“inline-code”>list_id</code></br><code class=“inline-code”>category</code></td>
    <td rowspan="2"><code class=“inline-code”>item_list_id</code></br><code class=“inline-code”>item_list_name</code></td>
  </tr>
  <tr>
   <td>Product Clicked</td>
    <td><code class=“inline-code”>select_item</code></td>
  </tr>
  <tr>
    <td>Promotion Viewed</br>Promotion Clicked</td>
    <td><code class=“inline-code”>view_promotion</code></br><code class=“inline-code”>select_promotion</code></td>
    <td><code class=“inline-code”>position</code></td>
    <td><code class=“inline-code”>location_id</code></td>
  </tr>
   <tr>
    <td>Product Viewed</br>Product Added</br>Product Removed</br>Cart Viewed</br>Checkout Started</br>Product Added to Wishlist</td>
    <td><code class=“inline-code”>view_item</code></br><code class=“inline-code”>add_to_cart</code></br><code class=“inline-code”>remove_from_cart</code></br><code class=“inline-code”>view_cart</code></br><code class=“inline-code”>begin_checkout</code></br><code class=“inline-code”>add_to_wishlist</code></td>
    <td><code class=“inline-code”>total</code></td>
    <td><code class=“inline-code”>value</code></td>
  </tr>
   <tr>
    <td>Order Completed</td>
    <td><code class=“inline-code”>purchase</code></td>
    <td rowspan="2"><code class=“inline-code”>order_id</code></br><code class=“inline-code”>total</code></td>
    <td rowspan="2"><code class=“inline-code”>transaction_id</code></br><code class=“inline-code”>value</code></td>
  </tr>
  <tr>
   <td>Order Refunded</td>
    <td><code class=“inline-code”>refund</code></td>
  </tr>
    <tr>
    <td>Product Shared</br>Cart Shared</td>
    <td><code class=“inline-code”>share</code></td>
    <td><code class=“inline-code”>share_via</code></td>
    <td><code class=“inline-code”>method</code></td>
  </tr>
 
   <tr>
    <td>Group</td>
    <td><code class=“inline-code”>join_group</code></td>
    <td>-</td>
    <td>-</td>
  </tr>
  <tr>
    <td>Payment Info Entered</td>
    <td><code class=“inline-code”>add_payment_info</code></td>
    <td><code class=“inline-code”>payment_method</code></td>
    <td><code class=“inline-code”>payment_type</code></td>
  </tr>
  <tr>
    <td>Payment Info Entered</td>
    <td><code class=“inline-code”>add_shipping_info</code></td>
    <td><code class=“inline-code”>shipping_method</code></td>
    <td><code class=“inline-code”>shipping_tier</code></td>
  </tr>
</table>

<div class="infoBlock">

The <strong>Payment Info Entered</strong> event is mapped on the basis of parameters passed to it:
<ul>
  <li>If <code class=“inline-code”>payment_method</code> is passed along with the other fields, it maps to <code class=“inline-code”>add_payment_info</code></li> event.
 <li>If <code class=“inline-code”>shipping_method</code> is passed along with the other fields, it maps to <code class=“inline-code”>add_shipping_info</code></li> event.
  </ul>
</div>

<div class="infoBlock">

There must be an <code class="inline-code">id</code> and <code class="inline-code">name</code> associated for each product in the order. Refer to the <a href="https://developers.google.com/gtagjs/reference/ga4-events#view_item_list">Item list</a> for more information on Google Analytics 4 events and corresponding properties.
</div>

Most of the above mentioned events include [`items`](https://developers.google.com/analytics/devguides/collection/protocol/ga4/reference/events#view_item_list) parameter which accepts an `Item` array. The below table details out the mappings for `Items` array:

| RudderStack    | Google Analytics 4  |
| :-------------| :-----------------|
| product_id         | `item_id`        |
| name               | `item_name`      |
| coupon               | `coupon`      |
| price              | `price`          |
| position           | `index`          |
| category           | `item_category`  |
| brand           | `item_brand`  |
| variant           | `item_variant`  |
| quantity           | `quantity`  |


### Rules for naming custom events

You must follow the below rules while choosing a name for the custom events:

- Event names are case sensitive. For example, `my_event` and `My_Event` are two distinct events.
- Event names must start with a letter. Only letters, numbers, and underscores are permitted. **DO NOT** use spaces.
- Do not use reserved prefixes and event names. Refer to the <a href="#faq">FAQ</a> section to know more about the reserved event names and prefixes.

## FAQ

### What are the reserved prefixes in Google Analytics 4?

Google Analytics 4 has some reserved prefixes which cannot be used for custom events. The list of such prefixes is mentioned below:

- _ (underscore)
- firebase_
- ga_
- google_
- gtag.

Refer to the [Google document](https://support.google.com/analytics/answer/10085872#zippy=%2Cweb%2Cin-this-article%2Creserved-prefixes-and-event-names) for more information.

### What are the reserved event names in Google Analytics 4?

Google Analytics 4 has some reserved events names which cannot be used. Refer to the [Reserved names](https://developers.google.com/analytics/devguides/collection/protocol/ga4/reference?client_type=gtag#reserved_names) for complete list of reserved event names.

## Contact us

For queries on any of the sections covered in this guide, you can [contact us](mailto:%20docs@rudderstack.com) or start a conversation in our [Slack](https://rudderstack.com/join-rudderstack-slack-community) community.
