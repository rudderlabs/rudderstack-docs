---
# slug: "/docs/data-warehouse-integrations/postgresql"
title: "PostgreSQL"
description: Step-by-step guide to set up PostgreSQL as a destination in RudderStack
---

# PostgreSQL

PostgreSQL is an enterprise-grade, open source database management system. It supports both SQL and JSON for relational and non-relational queries respectively. Many companies in the market use PostgreSQL as their low-cost data warehousing solution in order to deliver efficient analytics and user insights.

RudderStack lets you configure PostgreSQL as a destination to which you can seamlessly send your event data.

<div class="infoBlock">

Refer to the <a href="https://rudderstack.com/docs/data-warehouse-integrations/warehouse-schemas/">Warehouse Schemas</a> guide to know how events are mapped to your PostgreSQL tables.
</div>

<div class="successBlock">

Find the open-source transformer code for this destination in this <a href="https://github.com/rudderlabs/rudder-transformer/tree/master/v0/destinations/postgres">GitHub repo</a>.
</div>

## Setting user permissions in PostgreSQL

After setting up your PostgreSQL database, create a user. You should also assign privileges to the created user in order to create schemas and temporary tables on the specified database.

Below are the SQL queries that let you create a user, and grant the above-mentioned privileges to that created user:

```sql
CREATE USER <user name> WITH PASSWORD '<enter password here>';

-- grants the above created user to create new schemas and temporary tables on the specified database.
GRANT CREATE, TEMPORARY ON DATABASE <enter database name here> TO <user name>;
```

<div class="warningBlock">

If you don't grant the <code class="inline-code">CREATE, TEMPORARY</code> privileges the events don't get exported to PostgreSQL.

</div>

## Setting up network access

You will need to whitelist the following RudderStack IPs to enable network access:

- 3.216.35.97
- 34.198.90.241
- 54.147.40.62
- 23.20.96.9
- 18.214.35.254
- 35.83.226.133
- 52.41.61.208
- 44.227.140.138
- 54.245.141.180
- 3.66.99.198
- 3.64.201.167

<div class="infoBlock">

If you have your deployment in the EU region, you can whitelist only the following two IPs:
<ul>
<li>3.66.99.198</li>
<li>3.64.201.167</li>
</ul>
</div>

<div class="infoBlock">

All the outbound traffic is routed through these RudderStack IPs.
</div>

## Configuring PostgreSQL in RudderStack

In order to enable dumping data to PostgreSQL, you will first need to add it as a destination to the source from which you are sending the event data. Once the destination is enabled, events from RudderStack will automatically start to flow to PostgreSQL.

To configure PostgreSQL as a destination, please follow these steps:

- Choose a source to which you would like to add PostgreSQL as a destination. You can also simply create a destination and connect it to a source later.

<div class="infoBlock">

Please follow our <a href="https://rudderstack.com/docs/connections/adding-source-and-destination-rudderstack/">Adding a Source and Destination</a> guide to know how to add a source in RudderStack.

</div>

- After choosing a source, select **PostgreSQL** from the list of destinations.
- Give your destination a name and then click on **Next**. You should then see the following screen:

<img src="../assets/image (69).png" /><span class="imageTitle">PostgreSQL Destination Settings on the RudderStack dashboard</span>

- Add the required credentials in the **Connection Settings** as mentioned below:
  - **Host -** The host name of your PostgreSQL service.
  - **Database -** The database name in your PostgreSQL instance where the data gets loaded.
  - **User** - The username which has the required read/write access to the above database.
  - **Password** - The password for the above user.
  - **SSL Mode** - SSL modes for connecting to your PostgreSQL instance.
  - **Bucket Provider** - Intermediate storage for storing staging files. Currently we support S3, MinIO, Google Cloud Storage, and Azure Blob Storage.

## FAQs

### RudderStack does not create the corresponding PostgreSQL tables when I press on 'sync'. What do I do?

- Firstly, check the status of your data sync in the [**RudderStack dashboard**](https://app.rudderstack.com/syncs).
- Make sure you have set up the [**required user permissions**](https://rudderstack.com/docs/data-warehouse-integrations/postgresql#setting-postgresql-user-permissions) for your PostgreSQL instance.
- Check if your database is accessible to RudderStack by [whitelisting the RudderStack IPs](#setting-up-network-access).
- Ensure that all the security group policies are set. For Amazon S3, you can refer to these [**user permissions**](https://rudderstack.com/docs/destinations/storage-platforms/amazon-s3#permissions).

### How does RudderStack handle reserved words?

There are some limitations when it comes to using [reserved words](https://www.postgresql.org/docs/current/sql-keywords-appendix.html) in a schema, table, or column names. If such words are used as event names, traits or properties, they will be prefixed with a `_` when RudderStack creates tables or columns for them in your schema.

Also, it is important to note that integers are not allowed at the start of the schema or table name. Hence, RudderStack prefixes such schema, column or table names with a `_`.

For instance, `'25dollarpurchase'` will be changed by RudderStack to `'_25dollarpurchase`'.

### How does RudderStack handle cases when loading data into PostgreSQL?

RudderStack converts the event keys into lower case before exporting the data into PostgreSQL, so that it does not create two tables if the event name has two different cases.

## Contact us

For queries on any of the sections covered in this guide, you can [**contact us**](mailto:%20docs@rudderstack.com) or start a conversation in our [**Slack**](https://rudderstack.com/join-rudderstack-slack-community) community.
