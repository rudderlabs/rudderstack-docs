---
title: "Load JavaScript SDK"
description: Detailed technical documentation on how to load the JavaScript SDK with various options.
---

You can load the JavaScript SDK using the `load` API method to track and send events from your website to RudderStack. It can be defined as:

```javascript
rudderanalytics.load(<WRITE_KEY>, <DATA_PLANE_URL>, [loadOptions]);
```

<div class="infoBlock">
Replace the <Link to="/resources/glossary/#write-key">Write key</Link> and <Link to="/dashboard-guides/overview/#data-plane-url">Data plane URL</Link> in the above snippet with actual values.
</div>

## Loading options 

The **loadOptions** in the `load` call above can be used to define various options while loading the SDK. It includes the following parameters:

```javascript
{
  logLevel: "DEBUG" | "INFO" | "WARN",
  integrations: IntegrationOpts,
  configUrl: string,  // defaults to https://api.rudderlabs.com
  queueOptions: QueueOpts,
  loadIntegration: boolean, // defaults to true.
  secureCookie: boolean, // defaults to false.
  destSDKBaseURL: string, // defaults to https://cdn.rudderlabs.com/v1.1/js-integrations
  useBeacon: boolean, // defaults to false.
  beaconQueueOptions: BeaconQueueOpts,
  cookieConsentManager: cookieConsentManager,
  anonymousIdOptions: AnonymousIdOptions
}
```

The detailed description of these parameters is as follows:

| Parameter             | Type                                | Description                                              |
| :-------------------- | :---------------------------------- | :------------------------------------------------------- |
|  `logLevel`           | String                              | Values include `DEBUG`, `INFO`, and `WARN`.             |
|  `integrations`       | <Link to="#integrationopts">IntegrationOpts</Link> | Send event data to the <Link to="/sources/sdks/rudderstack-javascript-sdk/filtering/">selective destinations</Link>.                                          |
|  `configUrl`          | String                              |  Server (<Link to="/get-started/rudderstack-open-source/control-plane-lite/">Control Plane</Link>) endpoint serving your destination configurations. Default value: `https://api.rudderlabs.com`. Note that the source config is automatically appended to this endpoint, `https://api.rudderlabs.com/<source_config_url>/sourceConfig`  |
|  `queueOpts`          | <Link to="#queueopts">QueueOpts</Link>         | Contains options to control the behavior of the persistence queue that buffers the events before sending them to the data plane.          |
|  `loadIntegration`    | Boolean                             | Determines whether the destination SDKs are fetched by the SDK or not (true by default). Supported for **Amplitude** and **Google Analytics**.                      |
| `secureCookie`        | Boolean                             | Determines whether the SDK sends the cookie to the storage backend via HTTPS (false by default).|
| `destSDKBaseURL`      | String                              | Path used by the SDK to load the integrations. Default value: `https://cdn.rudderlabs.com/v1.1/js-integrations`. <Link to="/sources/sdks/rudderstack-javascript-sdk/version-migration-guide/#case-3-self-hosting-rudderstacks-cdn">Reference</Link>.    | 
| `useBeacon`           | Boolean                             | Determines whether the SDK <Link to="/sources/sdks/rudderstack-javascript-sdk/javascript-sdk-enhancements/#send-events-using-beacon">sends event payloads via Beacon</Link> (false by default).  |
| `beaconQueueOptions`  | <Link to="/sources/sdks/rudderstack-javascript-sdk/javascript-sdk-enhancements/#send-events-using-beacon">BeaconQueueOpts</Link> | Internal queue to hold the data and send it through the Beacon utility in batches. |
| `cookieConsentManager` | Object       |  <Link to="#cookieconsentmanager">Consent manager integration</Link>. |
| `anonymousIdOptions` | Object       |  <Link to="#anonymousidoptions">Automatically captures the anonymous ID</Link> from a source and sets it as Rudderstackâ€™s anonymousId.  |


The detailed definitions and usage of some parameters are given below:

#### `IntegrationOpts`

You can use this parameter to send the event data only to the <Link to="/sources/sdks/rudderstack-javascript-sdk/filtering/#filtering-destinations">selective destinations</Link>. Its structure is defined as follows:

```javascript
{
  All: boolean, // default true
  <Destination1>: boolean,
  <Destination2>: boolean,
  ...
}
```

The following table describes the above (optional) parameters in detail:

| **Parameter**       | **Type**|  **Description**  |
| :------------------ | :------ | :----------------------- |
| `All`               | Boolean |  All destinations to which the event data must be sent. The default value is `true`. If set to `false`, RudderStack will not send the event data to any destination. |
| `<Destination>`     | Boolean |  Specific destination to which the event data must be sent/not, depending on its Boolean value. |

#### `QueueOpts`

The `queueOpts` object contains the options to control the behavior of the persistence queue that buffers the events before sending them to the data plane. Its structure is defined as follows:

```javascript
{
  maxRetryDelay: 360000,
  minRetryDelay: 1000,
  backoffFactor: 2,
  maxAttempts: 10,
  maxItems: 100,
}
```

The following table describes the above `integer` type (optional) parameters in detail:

| **Parameter**   | **Description**                                                      | **Default value** |
| :-------------- |  :--------------------------------------------------------------------|:------------------|
| `maxRetryDelay` |  Upper limit on the maximum delay for an event (in ms).          | 360000            |
| `minRetryDelay` |  Minimum delay expected before sending an event (in ms).           | 1000              |
| `backoffFactor` |  Exponential base.                                      | 2                 |
| `maxAttempts`   |  Maximum number of attempts to send the event to the destination.     | 10                |
| `maxItems`      |  Maximum number of events kept in the storage.                        | 100               |

#### `cookieConsentManager`

Once a user provides the consent, you can load the JavaScript SDK and enable the <Link to="/sources/sdks/rudderstack-javascript-sdk/onetrust-consent-manager/">OneTrust integration</Link> via the `cookieConsentManager` object, as shown:

```javascript
rudderanalytics.load(
  <WRITE_KEY>,
  <DATA_PLANE_URL>, {
    cookieConsentManager: {
      oneTrust: {
        enabled: true
      }
    }
  }
);
```

#### `anonymousIdOptions`

The `anonymousIdOptions` object can be used to automatically capture the anonymous ID from a source and set it as Rudderstack's `anonymousId`. For example, if you are migrating from any source, say Segment, and want to retain its anonymous ID, you can enable the `anonymousIdOptions` to set the Segment's anonymous ID as the  Rudderstack's anonymous Id.

Its structure is defined as follows:

```javascript
{
  autoCapture: {
    enabled: true,
    source: "segment",
  }
}
```
  The following table describes the above (required) parameters in detail:

  | Parameter  | Type  | Description    |   
  | :--------| :---- | :----------------| 
  | `enabled` | Boolean  | Determines if the anonymous ID should be auto-captured. | 
  | `source`  | String   | Determines the external source of anonymous ID. | 

  <div class="infoBlock">
  If the RudderStack <code class="inline-code">anonymousId</code> is already set in your browser, <code class="inline-code">anonymousIdOptions</code> will not take effect.
  </div>

  <div class="infoBlock">
  You can call the <strong>Reset</strong>  API to clear the persisted anonymous ID and force the SDK to generate a new ID when the next tracking API is called (irrespective of the fact that <code class="inline-code">anonymousIdOptions</code> is enabled/disabled). However, if the <code class="inline-code">anonymousIdOptions</code> object is enabled and the SDK is loaded again (as a result of webpage reload, navigate to a different webpage, etc,), the <code class="inline-code">setAnonymousId</code> call will trigger automatically and the specified source's anonymous ID will again be set as the Rudderstack's anonymous ID.
  </div>

## Loading SDK for self-hosted control plane

If you are self-hosting the control plane using the [Control Plane Lite](https://www.rudderstack.com/docs/rudderstack-open-source/control-plane-lite/) utility, the `load` call should be as below:

```javascript
rudderanalytics.load(<WRITE_KEY>, <DATA_PLANE_URL>, {
  configUrl: <CONTROL_PLANE_URL>,
});
```

<div class="infoBlock">
Replace the <Link to="/resources/glossary/#write-key">Write key</Link>, <Link to="/dashboard-guides/overview/#data-plane-url">Data plane URL</Link> and <Link to="/get-started/rudderstack-open-source/control-plane-lite/#control-plane-url">Control plane URL</Link> in the above snippet with actual values.
</div>

## Verifying the SDK load

You can verify if the JavaScript SDK has loaded correctly by opening the JavaScript console in your browser:

- **Safari**: `Ctrl+Alt+I` \(Windows\) or `Command+Option+I` \(Mac\) and go to the `Console` tab.
- **Chrome**: `Ctrl+Shift+J` \(Windows\) or `Command+Option+J` \(Mac\).
- **Firefox**: `Ctrl+Shift+K` \(Windows\) or `Command+Option+K` \(Mac\) and select the `Console` tab.
- **Internet Explorer**: Press `F12` and go to the `Console` tab.

Run `rudderanalytics` command in the console,. If it returns the following code snippet, it means that the `analytics.js` file has loaded successfully:

```javascript
{Integrations: Object, _integrations: Object, _readied: true, _timeout: 300, _user: n_}
```

If it gives an `undefined` error, you need to verify the SDK installation again.

## Contact us

For queries on any of the sections covered in this guide, you can [contact us](mailto:%20docs@rudderstack.com) or start a conversation in our [Slack](https://rudderstack.com/join-rudderstack-slack-community) community.