---
title: "OneSignal"
description: Step-by-step guide on sending your event data from RudderStack to OneSignal.
---

[OneSignal](https://onesignal.com/) is a popular service which helps in driving customer engagement with multi-channel messaging across web and mobile push notifications, in-app messages, SMS, and email subscribers.

RudderStack supports OneSignal as a destination where you can send your event data seamlessly.

<div class="infoBlock">
Find the open source transformer code for this destination in the <a href="https://github.com/rudderlabs/rudder-transformer/blob/master/v0/destinations/">GitHub repository</a>.
</div>

## Getting started

Before configuring OneSignal as a destination in RudderStack, verify if the source platform is supported by OneSignal by referring to the table below:

| **Connection Mode** | **Web** | **Mobile** | **Server** |
| :--- | :--- | :--- | :--- |
| **Device mode** | - | - | - |
| **Cloud mode** | **Supported**  | **Supported** | **Supported** |

<div class="infoBlock">
To know more about the difference between cloud mode and device mode in RudderStack, refer to the <Link to="/destinations/rudderstack-connection-modes/">RudderStack Connection Modes</Link> guide.
</div>

Once you have confirmed that the source platform supports sending events to OneSignal, follow these steps:

1. From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **OneSignal**.
2. Assign a name to the destination and click **Continue**.

### Connection settings

To successfully configure OneSignal as a destination, you will need to configure the following settings:

<img src="../../assets/event-stream-destinations/onesignal-connection-settings.png" alt="OneSignal connection settings"/>

- **App Id**: Enter your OneSignal App Id.

<div class="infoBlock">
For more information on finding the OneSignal App Id, refer to the <a href="#faq">FAQ</a> section below.
</div>

- **Toggle on to create a device using email**: Enable this setting to create a device using email.
- **Toggle on to create a device using phone number**: Enable this setting to create a device using phone number.
- **Toggle on to concatenate event name with properties**: Enable this setting to concatenate the event names with properties. for example, if `add_to_cart` is an event and `brand` is a property, the event will be sent as `add_to_cart_brand` tag.
- **Allowed Property List**: Enter the properties you want to add as device tags, if present in the payload.

## Identify 

You can make an <Link to="/event-spec/standard-events/identify">`identify`</Link> call to add a new device to OneSignal App. However, if a device is already registered with the specified identifier, then it will update the existing device's record instead of creating a new one.

A sample `identify` call is shown below:

```javascript
rudderanalytics.identify('1hKOmRA4el9Zt1WSfVJIVo4GRlm', {
            firstName: 'Alex',
            lastName: 'Keener',
            email: "alex@example.com"
        }, {
            integrations: {
                oneSignal: {
                    deviceType: "6",
                    identifier: ""
                }
            }
        );
```

You can create multiple devices in a single `identify` call:
- One for the browser (by default)
- Addditional ones for the email and SMS

To create devices for email and SMS,  you need to enable the **Toggle on to create a device using email** and **Toggle on to create a device using phone number** settings in the RudderStack dashboard as well as send their data (`email` or `phone`) in the payload.

The `external_user_id` is mapped to `userId` by default and `anonymoysId` is added as a tag with key as `anonymousId` and value as `anonymousId value`.

### Property mapping

The following table details the mappings between RudderStack and OneSignal properties:

| RudderStack property | OneSignal property | Presence | 
| :-------| :--------| :------|
| `deviceType`  | `device_type` | Required | 
| `traits.firstName` | `tags.first_name` | Optional |
| `traits.lastName` | `tags.last_name` | Optional | 
| `context.device.deviceModel` | `device_model` | Optional | 
| `context.os` | `device_os` | Optional | 
| `traits.address.country` | `country` | Optional |
| `context.timezone` | `timezone` | Optional | 
| `anonymousId` | `external_user_id` | Optional | 

## Track

The <Link to="/event-spec/standard-events/track">`track`</Link> call can be used to update an existing device's tags in one of your OneSignal apps using the `external_user_id`. All devices containing the particular `external_user_id` are updated simultaneously.

While updating a device tag, any key inside a tag can be deleted by providing the value for that key as an empty string.

<div class="infoBlock">
Only the properties mentioned under the <strong>Allowed Property List</strong> setting in the RudderStack dashboard can be added as device tags.
</div>

A sample `track` call is shown below:

```javascript
rudderanalytics.track('Add to cart', {
    purchased_item: "Shirt",
		brand: "Zara"
	}
);
```

## Group

The <Link to="/event-spec/standard-events/group">`group`</Link> call can be used to group the devices having device tags using  the `groupId`.

A sample `group` call is as shown:

```javascript
rudderanalytics.group('1hKOmRA4el9Zt1WSfVJIVo4GRlm', {
    firstName: 'Alex',
    lastName: 'Keener',
    email: "alex@example.com"
});
```

### Property mapping

The following table details the mappings between RudderStack and OneSignal properties:

| RudderStack property | OneSignal property | Presence | 
| :-------| :--------| :------|
| `groupId` | `groupId` | Required | 
| `deviceType` | `device_type` | Required | 
| `traits.firstName` | `tags.first_name` | Optional |
| `traits.lastName` | `tags.last_name` | Optional | 
| `context.device.deviceModel` | `device_model` | Optional | 
| `context.os` | `device_os` | Optional | 
| `traits.address.country` | `country` | Optional |
| `context.timezone` | `timezone` | Optional | 
| `anonymousId` | `external_user_id` | Optional | 

## FAQ

### Where can I find the OneSignal App Id?

To get your OneSignal App Id, follow these steps:

1. Log into your [OneSignal dashboard](https://dashboard.OneSignal.com/).
2. Go to your app's **Settings** > **Keys & IDs**.
3. You will find the OneSignal App Id, as shown:

<img src="../../assets/event-stream-destinations/onesignal-app-id.png" alt="OneSignal license code and API key" />