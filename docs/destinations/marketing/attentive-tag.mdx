---
# slug: "/docs/destinations/marketing/attentive-tag"
title: "Attentive Tag"
description: Step-by-step guide to send your event data from RudderStack to Attentive Tag.
---

# Attentive Tag

[Attentive](https://www.attentivemobile.com/) is a personalized mobile messaging platform that helps consumers and companies to communicate with each other. It manages user subscriptions, triggers messages related to user actions, saves subscriber attributes, and sends personalized text messages. To utilize all the Attentive features, you need to add [Attentive Tag](https://docs.attentivemobile.com/pages/developer-guides/tag-management/the-attentive-tag/) to your website.

RudderStack supports Attentive Tag as a destination to which you can seamlessly send your event data.

<div class="successBlock">

Find the open-source transformer code for this destination in our [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/v0/destinations/).
</div>

## Getting started

Before configuring Attentive Tag as a destination in RudderStack, verify if the source platform is supported by Attentive Tag by referring to the table below:

| **Connection Mode** | **Web**       | **Mobile**    | **Server**    |
| :------------------ | :------------ | :------------ | :------------ |
| **Device mode**     | -             | -             | -             |
| **Cloud mode**      | **Supported** | **Supported** | **Supported** |

<div class="infoBlock">

To know more about the difference between cloud mode and device mode in RudderStack, refer to the <a href="https://rudderstack.com/docs/rudderstack-cloud/rudderstack-connection-modes/">RudderStack Connection Modes</a> guide.
</div>

Once you have confirmed that the source platform supports sending events to Attentive Tag, follow these steps:

1. From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Attentive Tag**.
2. Assign a name to the destination and click on **Next**.

## Connection settings

To successfully configure Attentive Tag as a destination, you will need to configure the following settings:

<img src="../../assets/event-stream-destinations/attentive-tag-connection-settings.png" alt="Attentive Tag Connection Settings"/>


- **API Key**:

- **Sign Up Source Id**:

<div class="infoBlock">

For more information on getting the API Key and Sign Up Source Id, refer to the <a href="#faq">FAQ</a> section below.
</div>

## Identify

You can choose to subscribe or unsubscribe a user from an Attentive Tag list using the <Link to="/rudderstack-api/api-specification/rudderstack-spec/identify/">`identify`</Link> call.

The default behavior of `identify` call is to subscribe a user. In order to unsubscribe, the`identifyOperation` needs to be passed as `unsubscribe` in the <code class="inline-code">integrations</code> object.

### Subscribe user

RudderStack maps the following properties to the Attentive Tag properties while subscribing a user:

| RudderStack Property | Attentive Tag Property | Presence |
|:--------------------------------|:--------------------------|:--------------------------|
| `traits.email`/`context.traits.email`/`properties.email` | `email` | Required |
| `traits.phone` | `phone` | Required  |
| `externalId` | `externalIdentifiers` | Required |
| `integrations.attentive_tag.signUpsourceId` | `signUpSourceId` | Required |
| `context.traits.customIdentifiers`/`traits.customIdentifiers` | `customIdentifiers` | Optional |

<div class="infoBlock">

The <code class="inline-code">externalIdentifiers</code> property can be an array of objects - any identifier other than the specified ones, like <code class="inline-code">clientUserId</code>, <code class="inline-code">shopifyId</code>, <code class="inline-code">klaviyoId</code> and <code class="inline-code">customIdentifiers</code>.
</div>

<div class="infoBlock">

The <code class="inline-code">signUpSourceId</code> property is given the highest priority in the destination definition.
</div>

A sample `identify` call to subscribe a user is shown below:

```javascript
{
  "context": {
    "traits": {
      "email": "new-val",
      "phone": "+13115552368",
      "customIdentifiers": [{
        "name": "string",
        "value": "string"
      }]
    },
    "externalId": [{
        "type": "clientUserId",
        "id": "144"
      },
      {
        "type": "shopifyId",
        "id": "224"
      },
      {
        "type": "klaviyoId",
        "id": "132"
      }
    ]
  },
  "integrations": {
    "signUpSourceId": "347393"
  }
}
```

### Unsubscribe user

The `identifyOperation` should be passed as `unsubscribe` in the `integrations` object to unsubscribe a user, as shown:

```javascript
"integrations": {
  "attentive_tag": {
    "identifyOperation": "unsubscribe",
  },
  "subscriptions": [{
    "type": "MARKETING",
    "channel": "TEXT"
  }],
  "notification": {
    "language": "en-US"
  }
},
```

RudderStack maps the following properties to the Attentive Tag properties while unsubscribing a user:

| RudderStack Property | Attentive Tag Property | Presence |
|:--------------------------------|:--------------------------|:--------------------------|
| `traits.email`/`context.traits.email`/`properties.email` | `email` | Required |
| `traits.phone` | `phone` | Required |
| `integrations.attentive_tag.subscriptions` | `subscriptions` | Optional |
| `integrations.attentive_tag.notification` | `notification` | Optional |

A user can unsubscribe from any specific channel by passing it inside the `subscriptions` in the `integrations` object. Also, they can provide the `language` in the `notification` inside the `integrations` object to change the notification language. 

<div class="infoBlock">

Currently, only <code class="inline-code">en-US</code> and <code class="inline-code">fr-CA</code> are supported as notification languages and are case sensitive.
</div>

A sample `identify` call to specify subscription channels and notification language is shown below:

```javascript
{
  "user": {
    "phone": "+13115552368",
    "email": "test@gmail.com"
  },
  "subscriptions": [{
    "type": "MARKETING",
    "channel": "TEXT"
  }],
  "notification": {
    "language": "string"
  }
}
```
<div class="infoBlock">

Passing the <code class="inline-code">email</code> attribute does not locate or unsubscribe a user from any SMS subscription. Similarly, passing the <code class="inline-code">phone</code> attribute does not locate or unsubscribe a user from any email subscription.
</div>


## Track

The <Link to="https://www.rudderstack.com/docs/rudderstack-api/api-specification/rudderstack-spec/track/">`track`</Link> call allows you to capture user actions along with the properties associated with these actions. 

A sample `track` call is shown below:

```javascript
{
  "type": "Order Shipped",
  "properties": {
    "orderStatusURL": "example.com/orderstatus/54321",
    "delivery_date": "May 10",
    "Order Id": "54321"
  },
  "externalEventId": "37fb97a9-6cfd-4983-bd65-68d104d53b70",
  "occurredAt": "2021-03-30T14:38:29+0000",
  "user": {
    "phone": "+13115552368",
    "email": "test@gmail.com",
    "externalIdentifiers": {
      "clientUserId": "string",
      "customIdentifiers": [{
        "name": "string",
        "value": "string"
      }]
    }
  }
}
```

### Property mapping

RudderStack maps the following `track` call properties to the Attentive Tag properties:

| RudderStack Property | Attentive Tag Property | Presence |
|:--------------------------------|:--------------------------|:--------------------------|
| `event` | `type` | Required |
| `properties` | `properties` | Optional |
| `properties.timestamp` | `occuredAt` | Optional |
| `properties.eventId` | `externalEventId` | Optional |
| `traits.email`/`context.traits.email`/`properties.email` | `email` | Required |
| `traits.phone` | `phone` | Required |
| `externalId` | `externalIdentifiers` | Required |
| `context.traits.customIdentifiers`/`traits.customIdentifiers` | `customIdentifiers` | Optional |

<div class="infoBlock">

Make sure that the timestamp is in ISO 8601 format.
</div>

### E-Commerce events

RudderStack converts the following e-commerce events to the corresponding Attentive Tag events:

| RudderStack event | Attentive Tag event |
|:--------------------------------|:--------------------------|
| Product List Viewed <br /> Product Viewed | `product-view` |
| Product Added | `add-to-cart` |
| Order Completed | `purchase` |

#### Product List Viewed

As mentioned above, RudderStack maps the `Product List Viewed` event to `product-view` event in Attentive Tag. The event properties are also mapped to the corresponding Attentive Tag properties, as shown:

| RudderStack Property | Attentive Tag Property | Presence |
|:--------------------------------|:--------------------------|:--------------------------|
| `properties.products.product_id` | `productId` | Required |
| `properties.products.price` | `value` | Required |
| `traits.email`/`context.traits.email`/`properties.email` | `email` | Required |
| `traits.phone` | `phone` | Required |
| `externalId` | `externalIdentifiers` | Required |
| `properties.products.variant` | `productVariantId` | Required |
| `properties.products.price` | `currency` | Optional |
| `properties.products.name` | `name` | Optional |
| `properties.products.url` | `productUrl` | Optional |
| `properties.products.image_url` | `productImage` | Optional |
| `context.traits.customIdentifiers`/`traits.customIdentifiers` | `customIdentifiers` | Optional |


#### Product Viewed/Product Added

As mentioned above, RudderStack maps the `Product Viewed` and `Product Added` events to `product-view` and `add-to-cart` events in Attentive Tag respectively. The event properties are also mapped to the corresponding Attentive Tag properties, as shown:

| RudderStack Property | Attentive Tag Property | Presence |
|:--------------------------------|:--------------------------|:--------------------------|
| `properties.products.product_id` | `productId` | Required |
| `properties.products.price` | `value` | Required |
| `traits.email`/`context.traits.email`/`properties.email` | `email` | Required |
| `traits.phone` | `phone` | Required |
| `externalId` | `externalIdentifiers` | Required |
| `properties.products.variant` | `productVariantId` | Required |
| `properties.products.currency` | `currency` | Optional |
| `properties.products.name` | `name` | Optional |
| `properties.products.url` | `productUrl` | Optional |
| `properties.products.image_url` | `productImage` | Optional |
| `context.traits.customIdentifiers`/`traits.customIdentifiers` | `customIdentifiers` | Optional |

#### Order Completed

As mentioned above, RudderStack maps the `Order Completed` event to `purchase` event in Attentive Tag. The event properties are also mapped to the corresponding Attentive Tag properties, as shown:

| RudderStack Property | Attentive Tag Property | Presence |
|:--------------------------------|:--------------------------|:--------------------------|
| `properties.products.product_id` | `productId` | Required |
| `properties.products.price` | `value` | Required |
| `traits.email`/`context.traits.email`/`properties.email` | `email` | Required |
| `properties.products.variant` | `productVariantId` |  Required |
| `traits.phone` | `phone` | Required |
| `externalId` | `externalIdentifiers` | Required |
| `properties.products.price` | `currency` | Optional |
| `properties.products.name` | `name` | Optional |
| `properties.products.url` | `productUrl` | Optional |
| `properties.products.image_url` | `productImage` | Optional |

A sample `track` call for the above e-commerce event parameters is shown below:

```javascript
{
  "items": [{
    "productId": "AB12345",
    "productVariantId": "CD12345",
    "productImage": "http://my.cdn.com/products/new-product.png",
    "productUrl": "http://my-store.com/products/shirts/my-shirt",
    "name": "T-Shirt",
    "price": [{
      "value": 19.99,
      "currency": "USD"
    }],
    "quantity": 1
  }],
  "occurredAt": "2021-03-30T14:38:29+0000",
  "user": {
    "phone": "+13115552368",
    "email": "test@gmail.com",
    "externalIdentifiers": {
      "clientUserId": "string",
      "customIdentifiers": [{
        "name": "string",
        "value": "string"
      }]
    }
  }
}
```

## FAQ

### Where can I find the Attentive Tag API Key?

To find the Attentive Tag API Key, follow these steps:

### Where can I find the Attentive Tag Sign Up Source Id?

To find the Attentive Tag Sign Up Source Id, follow these steps:

## Contact us

For queries on any of the sections covered in this guide, you can [contact us](mailto:%20docs@rudderstack.com) or start a conversation in our [Slack](https://rudderstack.com/join-rudderstack-slack-community) community.
