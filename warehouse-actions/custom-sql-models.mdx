---
# slug: "/docs/warehouse-actions/models-configuration"
title: "Setting Connections using Models"
description: Detailed technical description on how to use the SQL models to send the data to the specified destinations.
---

# Custom SQL Models

The **custom SQL models** feature provides the capability to define custom SQL queries over the warehouse and execute them to send the resultant data to the specified destinations. You can also define the **sync schedule** to sync the data to the destinations as required.

Some salient features of custom SQL models are:
* Manage the view of all models synced to different destinations at one place.
* Reuse existing models in multiple connections.
* Build models with complex SQL queries using an intuitive UI (RudderStack dashboard).

<div class="infoBlock">

  Currently, the <strong>custom SQL models</strong> are supported for <a href="https://www.rudderstack.com/docs/warehouse-actions/amazon-redshift/">Amazon Redshift</a>, <a href="https://www.rudderstack.com/docs/warehouse-actions/google-bigquery/">Google BigQuery</a>, <a href="https://www.rudderstack.com/docs/warehouse-actions/postgresql/">PostgreSQL</a>, and <a href="https://www.rudderstack.com/docs/warehouse-actions/snowflake/">Snowflake</a> Warehouse Actions sources only.
</div>

## Setting connections using models

<div class="infoBlock">
You can create a model in the RudderStack dashboard and use it while creating a connection between a Warehouse Actions source and destination. For detailed steps on how to create a model, refer to <a href="https://www.rudderstack.com/docs/connections/models/">Models</a>.
</div>

Once a model is created, you can use it to send the data from a warehouse source to a specified destination. Follow the steps listed below to achieve the same:

1. Log in to the **RudderStack dashboard**.
2. Select **Sources** from the left navigation bar and click on **New source**.
3. Select **Warehouse Actions** and choose any supported warehouse from the ones highlighted below: 
<img src="../assets/warehouse-actions-sources/warehouse-action-sources.png" />

4. Name the source and select the **Model** option.
<img src="../assets/warehouse-actions-sources/select-model-option.png" />

5. Next, set the **schedule type** and **run settings** to schedule the data import from your warehouse to RudderStack.

6. Once the source is set up, you can connect it to an existing or a new destination by using the **Add Destination** button.  
<img src="../assets/warehouse-actions-sources/add-destination.png" />

7. Select the required destination and configure its connection settings.

8. Next, select the required model from the dropdown list.

<div class="infoBlock">
  
The dropdown will only display the list of models corresponding to the Warehouse Actions source you have configured. For example, only the BigQuery models will be listed in the dropdown for a BigQuery warehouse source.
</div>

9. Select the **Sync mode** and at least one user identifier (**user_id/anonymous_id**) from the dropdown list.

<img src="../assets/warehouse-actions-sources/configure-model.png" />

<div class="infoBlock">
  
You can preview the data snippet which will be sent to the destination. All the resultant columns from the model's query are selected by default. However, you can choose to keep the desired columns by searching and selecting/deselecting them. The resultant JSON can be previewed on the right.
<img src="../assets/warehouse-actions-sources/models-data-snippet.png" />
</div>

<div class="infoBlock">
  
As can be observed, the JSON payload carries the <strong>user_id</strong> and <strong>anonymous_id</strong> from the columns selected in the <strong>Choose user identifier</strong> section. Further, the traits are used from the selected columns in the <strong>Column</strong> section.
</div>

You can use the **Add Constant** option to add a constant key and value pair which is always sent in the JSON payload.
<img src="../assets/warehouse-actions-sources/add-constant.png" />

10. Click on **Continue** to configure the model successfully with the source and destination.

### Setting the data update schedule

You can click on the source and select the **Syncs** tab to schedule the event data sync. To know more, refer to [Syncs]().

### Update the selection of columns  

You can update the selection of columns used to send data to the specified destinations. 

1. Click on the source and select the **Schema** tab.
2. Click on **Update** button.
<img src="../assets/warehouse-actions-sources/update-table-selection.png" />

3. Update your selection of columns and click on **Save** button.

## FAQs

### What do the three validations under Verifying Credentials imply?

When setting up a Warehouse Actions source, once you proceed after entering the connection credentials, you will see the following three validations under the **Verifying Credentials** option:

<img src="../assets/validations.png" />

These options are explained below:

* **Verifying Connection**: This option indicates that RudderStack is trying to connect to the warehouse with the information specified in the connection credentials. 

<div class="warningBlock">

If this option gives an error, it means that one or more fields specified in the connection credentials are incorrect. Verify your credentials in this case.
</div>

* **Able to List Schema**: This option checks if RudderStack is able to fetch all the schema details using the provided credentials. 
* **Able to Access RudderStack Schema**: This option implies that RudderStack is able to access the `rudderstack_` schema that you have created by successfully running all the commands in the [**User Permissions**](https://rudderstack.com/docs/warehouse-actions/google-bigquery#granting-permissions) section. 

<div class="warningBlock">

If this option gives an error, verify if you have successfully created the `rudderstack_` schema and given RudderStack the required permissions to access it. For more information, refer to [**this section**](https://rudderstack.com/docs/warehouse-actions/google-bigquery#creating-the-rudderstack-schema-and-granting-permissions).
</div>

## Contact us

For more information on the custom SQL models, you can [**contact us**](mailto:%20docs@rudderstack.com) or start a conversation in our [**Slack**](https://rudderstack.com/join-rudderstack-slack-community) community.
